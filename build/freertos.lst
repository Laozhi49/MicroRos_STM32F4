ARM GAS  /tmp/ccvFBfAE.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"freertos.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/freertos.c"
  20              		.global	__aeabi_d2f
  21              		.section	.text.twist_callback,"ax",%progbits
  22              		.align	1
  23              		.global	twist_callback
  24              		.syntax unified
  25              		.thumb
  26              		.thumb_func
  28              	twist_callback:
  29              	.LVL0:
  30              	.LFB143:
   1:Core/Src/freertos.c **** /* USER CODE BEGIN Header */
   2:Core/Src/freertos.c **** /**
   3:Core/Src/freertos.c ****   ******************************************************************************
   4:Core/Src/freertos.c ****   * File Name          : freertos.c
   5:Core/Src/freertos.c ****   * Description        : Code for freertos applications
   6:Core/Src/freertos.c ****   ******************************************************************************
   7:Core/Src/freertos.c ****   * @attention
   8:Core/Src/freertos.c ****   *
   9:Core/Src/freertos.c ****   * Copyright (c) 2025 STMicroelectronics.
  10:Core/Src/freertos.c ****   * All rights reserved.
  11:Core/Src/freertos.c ****   *
  12:Core/Src/freertos.c ****   * This software is licensed under terms that can be found in the LICENSE file
  13:Core/Src/freertos.c ****   * in the root directory of this software component.
  14:Core/Src/freertos.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Core/Src/freertos.c ****   *
  16:Core/Src/freertos.c ****   ******************************************************************************
  17:Core/Src/freertos.c ****   */
  18:Core/Src/freertos.c **** /* USER CODE END Header */
  19:Core/Src/freertos.c **** 
  20:Core/Src/freertos.c **** /* Includes ------------------------------------------------------------------*/
  21:Core/Src/freertos.c **** #include "FreeRTOS.h"
  22:Core/Src/freertos.c **** #include "task.h"
  23:Core/Src/freertos.c **** #include "main.h"
  24:Core/Src/freertos.c **** #include "cmsis_os.h"
  25:Core/Src/freertos.c **** 
  26:Core/Src/freertos.c **** /* Private includes ----------------------------------------------------------*/
  27:Core/Src/freertos.c **** /* USER CODE BEGIN Includes */
  28:Core/Src/freertos.c **** #include <rcl/rcl.h>
ARM GAS  /tmp/ccvFBfAE.s 			page 2


  29:Core/Src/freertos.c **** #include <rcl/error_handling.h>
  30:Core/Src/freertos.c **** #include <rclc/rclc.h>
  31:Core/Src/freertos.c **** #include <rclc/executor.h>
  32:Core/Src/freertos.c **** #include <uxr/client/transport.h>
  33:Core/Src/freertos.c **** #include <rmw_microxrcedds_c/config.h>
  34:Core/Src/freertos.c **** #include <rmw_microros/rmw_microros.h>
  35:Core/Src/freertos.c **** 
  36:Core/Src/freertos.c **** #include <std_msgs/msg/int32.h>
  37:Core/Src/freertos.c **** 
  38:Core/Src/freertos.c **** #include <geometry_msgs/msg/twist.h>
  39:Core/Src/freertos.c **** #include <sensor_msgs/msg/imu.h>
  40:Core/Src/freertos.c **** #include <std_msgs/msg/header.h>
  41:Core/Src/freertos.c **** 
  42:Core/Src/freertos.c **** #include <stdbool.h>
  43:Core/Src/freertos.c **** #include "usart.h"
  44:Core/Src/freertos.c **** 
  45:Core/Src/freertos.c **** #include "gpio.h"
  46:Core/Src/freertos.c **** #include "mpu6050.h"
  47:Core/Src/freertos.c **** /* USER CODE END Includes */
  48:Core/Src/freertos.c **** 
  49:Core/Src/freertos.c **** /* Private typedef -----------------------------------------------------------*/
  50:Core/Src/freertos.c **** typedef StaticTask_t osStaticThreadDef_t;
  51:Core/Src/freertos.c **** /* USER CODE BEGIN PTD */
  52:Core/Src/freertos.c **** 
  53:Core/Src/freertos.c **** /* USER CODE END PTD */
  54:Core/Src/freertos.c **** 
  55:Core/Src/freertos.c **** /* Private define ------------------------------------------------------------*/
  56:Core/Src/freertos.c **** /* USER CODE BEGIN PD */
  57:Core/Src/freertos.c **** 
  58:Core/Src/freertos.c **** /* USER CODE END PD */
  59:Core/Src/freertos.c **** 
  60:Core/Src/freertos.c **** /* Private macro -------------------------------------------------------------*/
  61:Core/Src/freertos.c **** /* USER CODE BEGIN PM */
  62:Core/Src/freertos.c **** 
  63:Core/Src/freertos.c **** /* USER CODE END PM */
  64:Core/Src/freertos.c **** 
  65:Core/Src/freertos.c **** /* Private variables ---------------------------------------------------------*/
  66:Core/Src/freertos.c **** /* USER CODE BEGIN Variables */
  67:Core/Src/freertos.c **** 
  68:Core/Src/freertos.c **** /* USER CODE END Variables */
  69:Core/Src/freertos.c **** /* Definitions for MicroRosTask */
  70:Core/Src/freertos.c **** osThreadId_t MicroRosTaskHandle;
  71:Core/Src/freertos.c **** uint32_t defaultTaskBuffer[ 3000 ];
  72:Core/Src/freertos.c **** osStaticThreadDef_t defaultTaskControlBlock;
  73:Core/Src/freertos.c **** const osThreadAttr_t MicroRosTask_attributes = {
  74:Core/Src/freertos.c ****   .name = "MicroRosTask",
  75:Core/Src/freertos.c ****   .cb_mem = &defaultTaskControlBlock,
  76:Core/Src/freertos.c ****   .cb_size = sizeof(defaultTaskControlBlock),
  77:Core/Src/freertos.c ****   .stack_mem = &defaultTaskBuffer[0],
  78:Core/Src/freertos.c ****   .stack_size = sizeof(defaultTaskBuffer),
  79:Core/Src/freertos.c ****   .priority = (osPriority_t) osPriorityNormal,
  80:Core/Src/freertos.c **** };
  81:Core/Src/freertos.c **** 
  82:Core/Src/freertos.c **** /* Private function prototypes -----------------------------------------------*/
  83:Core/Src/freertos.c **** /* USER CODE BEGIN FunctionPrototypes */
  84:Core/Src/freertos.c **** bool cubemx_transport_open(struct uxrCustomTransport * transport);
  85:Core/Src/freertos.c **** bool cubemx_transport_close(struct uxrCustomTransport * transport);
ARM GAS  /tmp/ccvFBfAE.s 			page 3


  86:Core/Src/freertos.c **** size_t cubemx_transport_write(struct uxrCustomTransport* transport, const uint8_t * buf, size_t len
  87:Core/Src/freertos.c **** size_t cubemx_transport_read(struct uxrCustomTransport* transport, uint8_t* buf, size_t len, int ti
  88:Core/Src/freertos.c ****  
  89:Core/Src/freertos.c **** void * microros_allocate(size_t size, void * state);
  90:Core/Src/freertos.c **** void microros_deallocate(void * pointer, void * state);
  91:Core/Src/freertos.c **** void * microros_reallocate(void * pointer, size_t size, void * state);
  92:Core/Src/freertos.c **** void * microros_zero_allocate(size_t number_of_elements, size_t size_of_element, void * state);
  93:Core/Src/freertos.c **** 
  94:Core/Src/freertos.c **** rcl_publisher_t publisher;
  95:Core/Src/freertos.c **** std_msgs__msg__Int32 msg;
  96:Core/Src/freertos.c **** sensor_msgs__msg__Imu imu_msg;
  97:Core/Src/freertos.c **** 
  98:Core/Src/freertos.c **** rcl_subscription_t subscriber;
  99:Core/Src/freertos.c **** geometry_msgs__msg__Twist sub_msg;
 100:Core/Src/freertos.c **** 
 101:Core/Src/freertos.c **** rclc_executor_t executor;
 102:Core/Src/freertos.c **** rclc_support_t support;
 103:Core/Src/freertos.c **** rcl_allocator_t allocator;
 104:Core/Src/freertos.c **** rcl_node_t node;
 105:Core/Src/freertos.c **** 
 106:Core/Src/freertos.c **** rcl_timer_t timer;
 107:Core/Src/freertos.c **** 
 108:Core/Src/freertos.c **** void fill_imu_message() {
 109:Core/Src/freertos.c ****     // 从IMU读取数据（根据你的传感器API）
 110:Core/Src/freertos.c ****     MPU6050_Process();
 111:Core/Src/freertos.c **** 
 112:Core/Src/freertos.c ****     // 设置时间戳
 113:Core/Src/freertos.c ****     int64_t stamp = rmw_uros_epoch_millis();
 114:Core/Src/freertos.c ****     imu_msg.header.stamp.sec = stamp * 1e-3;
 115:Core/Src/freertos.c ****     imu_msg.header.stamp.nanosec = stamp - imu_msg.header.stamp.sec * 1000;
 116:Core/Src/freertos.c ****     micro_ros_string_utilities_set(imu_msg.header.frame_id, "imu_link");  // 设置坐标系
 117:Core/Src/freertos.c ****     
 118:Core/Src/freertos.c ****     // 填充加速度数据 (m/s^2)
 119:Core/Src/freertos.c ****     imu_msg.linear_acceleration.x = MPU6050.Accel_X_RAW;
 120:Core/Src/freertos.c ****     imu_msg.linear_acceleration.y = MPU6050.Accel_Y_RAW;
 121:Core/Src/freertos.c ****     imu_msg.linear_acceleration.z = MPU6050.Accel_Z_RAW;
 122:Core/Src/freertos.c ****     
 123:Core/Src/freertos.c ****     // 填充角速度数据 (rad/s)
 124:Core/Src/freertos.c ****     imu_msg.angular_velocity.x = MPU6050.Gyro_X_RAW;
 125:Core/Src/freertos.c ****     imu_msg.angular_velocity.y = MPU6050.Gyro_Y_RAW;
 126:Core/Src/freertos.c ****     imu_msg.angular_velocity.z = MPU6050.Gyro_Z_RAW;
 127:Core/Src/freertos.c ****     
 128:Core/Src/freertos.c ****     // 如果没有方向数据，可以设置为0并设置协方差为-1
 129:Core/Src/freertos.c ****     imu_msg.orientation.x = 0.0;
 130:Core/Src/freertos.c ****     imu_msg.orientation.y = 0.0;
 131:Core/Src/freertos.c ****     imu_msg.orientation.z = 0.0;
 132:Core/Src/freertos.c ****     //imu_msg.orientation.w = 1.0;
 133:Core/Src/freertos.c ****     
 134:Core/Src/freertos.c ****     // 设置协方差矩阵（根据你的传感器特性）
 135:Core/Src/freertos.c ****     // 行主序排列
 136:Core/Src/freertos.c ****     imu_msg.orientation_covariance[0] = -1;  // 表示方向数据不可用
 137:Core/Src/freertos.c ****     // imu_msg.angular_velocity_covariance[0] = 0.01;  // 示例值
 138:Core/Src/freertos.c ****     // imu_msg.linear_acceleration_covariance[0] = 0.01;  // 示例值
 139:Core/Src/freertos.c **** }
 140:Core/Src/freertos.c **** 
 141:Core/Src/freertos.c **** void twist_callback(const void *msg_in)
 142:Core/Src/freertos.c **** {
ARM GAS  /tmp/ccvFBfAE.s 			page 4


  31              		.loc 1 142 1 view -0
  32              		.cfi_startproc
  33              		@ args = 0, pretend = 0, frame = 0
  34              		@ frame_needed = 0, uses_anonymous_args = 0
  35              		.loc 1 142 1 is_stmt 0 view .LVU1
  36 0000 08B5     		push	{r3, lr}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 8
  39              		.cfi_offset 3, -8
  40              		.cfi_offset 14, -4
 143:Core/Src/freertos.c ****   // 将接收到的消息指针转化为 geometry_msgs__msg__Twist 类型
 144:Core/Src/freertos.c ****   const geometry_msgs__msg__Twist *twist_msg = (const geometry_msgs__msg__Twist *)msg_in;
  41              		.loc 1 144 3 is_stmt 1 view .LVU2
  42              	.LVL1:
 145:Core/Src/freertos.c ****   // 从 Twist 消息中获取线速度和角速度
 146:Core/Src/freertos.c ****   float linear_x = twist_msg->linear.x;
  43              		.loc 1 146 3 view .LVU3
  44              		.loc 1 146 9 is_stmt 0 view .LVU4
  45 0002 D0E90001 		ldrd	r0, [r0]
  46              	.LVL2:
  47              		.loc 1 146 9 view .LVU5
  48 0006 FFF7FEFF 		bl	__aeabi_d2f
  49              	.LVL3:
  50 000a 07EE900A 		vmov	s15, r0
  51              	.LVL4:
 147:Core/Src/freertos.c ****   float angular_z = twist_msg->angular.z;
  52              		.loc 1 147 3 is_stmt 1 view .LVU6
 148:Core/Src/freertos.c **** 
 149:Core/Src/freertos.c ****   if(linear_x>0)
  53              		.loc 1 149 3 view .LVU7
  54              		.loc 1 149 5 is_stmt 0 view .LVU8
  55 000e F5EEC07A 		vcmpe.f32	s15, #0
  56 0012 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  57 0016 05DC     		bgt	.L10
 150:Core/Src/freertos.c ****   {
 151:Core/Src/freertos.c ****     HAL_GPIO_WritePin(LED_GPIO_Port,LED_Pin,1);
 152:Core/Src/freertos.c ****   }
 153:Core/Src/freertos.c ****   else if(linear_x<0)
  58              		.loc 1 153 8 is_stmt 1 view .LVU9
  59              		.loc 1 153 10 is_stmt 0 view .LVU10
  60 0018 F5EEC07A 		vcmpe.f32	s15, #0
  61 001c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  62 0020 07D4     		bmi	.L11
  63              	.LVL5:
  64              	.L1:
 154:Core/Src/freertos.c ****   {
 155:Core/Src/freertos.c ****     HAL_GPIO_WritePin(LED_GPIO_Port,LED_Pin,0);
 156:Core/Src/freertos.c ****   }
 157:Core/Src/freertos.c **** }
  65              		.loc 1 157 1 view .LVU11
  66 0022 08BD     		pop	{r3, pc}
  67              	.LVL6:
  68              	.L10:
 151:Core/Src/freertos.c ****   }
  69              		.loc 1 151 5 is_stmt 1 view .LVU12
  70 0024 0122     		movs	r2, #1
  71 0026 4FF48051 		mov	r1, #4096
ARM GAS  /tmp/ccvFBfAE.s 			page 5


  72 002a 0548     		ldr	r0, .L12
  73              	.LVL7:
 151:Core/Src/freertos.c ****   }
  74              		.loc 1 151 5 is_stmt 0 view .LVU13
  75 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
  76              	.LVL8:
 151:Core/Src/freertos.c ****   }
  77              		.loc 1 151 5 view .LVU14
  78 0030 F7E7     		b	.L1
  79              	.LVL9:
  80              	.L11:
 155:Core/Src/freertos.c ****   }
  81              		.loc 1 155 5 is_stmt 1 view .LVU15
  82 0032 0022     		movs	r2, #0
  83 0034 4FF48051 		mov	r1, #4096
  84 0038 0148     		ldr	r0, .L12
  85              	.LVL10:
 155:Core/Src/freertos.c ****   }
  86              		.loc 1 155 5 is_stmt 0 view .LVU16
  87 003a FFF7FEFF 		bl	HAL_GPIO_WritePin
  88              	.LVL11:
  89              		.loc 1 157 1 view .LVU17
  90 003e F0E7     		b	.L1
  91              	.L13:
  92              		.align	2
  93              	.L12:
  94 0040 00000240 		.word	1073872896
  95              		.cfi_endproc
  96              	.LFE143:
  98              		.section	.rodata.StartMicroRosTask.str1.4,"aMS",%progbits,1
  99              		.align	2
 100              	.LC0:
 101 0000 4572726F 		.ascii	"Error on default allocators (line %d)\012\000"
 101      72206F6E 
 101      20646566 
 101      61756C74 
 101      20616C6C 
 102 0027 00       		.align	2
 103              	.LC1:
 104 0028 00       		.ascii	"\000"
 105 0029 000000   		.align	2
 106              	.LC2:
 107 002c 63756265 		.ascii	"cubemx_node\000"
 107      6D785F6E 
 107      6F646500 
 108              		.align	2
 109              	.LC3:
 110 0038 696D755F 		.ascii	"imu_data\000"
 110      64617461 
 110      00
 111 0041 000000   		.align	2
 112              	.LC4:
 113 0044 2F636D64 		.ascii	"/cmd_vel\000"
 113      5F76656C 
 113      00
 114              		.section	.text.StartMicroRosTask,"ax",%progbits
 115              		.align	1
ARM GAS  /tmp/ccvFBfAE.s 			page 6


 116              		.global	StartMicroRosTask
 117              		.syntax unified
 118              		.thumb
 119              		.thumb_func
 121              	StartMicroRosTask:
 122              	.LVL12:
 123              	.LFB146:
 158:Core/Src/freertos.c **** 
 159:Core/Src/freertos.c **** void timer_callback(rcl_timer_t *timer, int64_t last_call_time)
 160:Core/Src/freertos.c **** {
 161:Core/Src/freertos.c ****   RCLC_UNUSED(last_call_time);
 162:Core/Src/freertos.c ****   if (timer != NULL)
 163:Core/Src/freertos.c ****   {
 164:Core/Src/freertos.c ****     fill_imu_message();
 165:Core/Src/freertos.c ****     rcl_publish(&publisher, &imu_msg, NULL);
 166:Core/Src/freertos.c ****     //rcl_publish(&publisher, &msg, NULL);
 167:Core/Src/freertos.c ****     //msg.data++;
 168:Core/Src/freertos.c ****   }
 169:Core/Src/freertos.c **** }
 170:Core/Src/freertos.c **** 
 171:Core/Src/freertos.c **** /* USER CODE END FunctionPrototypes */
 172:Core/Src/freertos.c **** 
 173:Core/Src/freertos.c **** void StartMicroRosTask(void *argument);
 174:Core/Src/freertos.c **** 
 175:Core/Src/freertos.c **** void MX_FREERTOS_Init(void); /* (MISRA C 2004 rule 8.1) */
 176:Core/Src/freertos.c **** 
 177:Core/Src/freertos.c **** /**
 178:Core/Src/freertos.c ****   * @brief  FreeRTOS initialization
 179:Core/Src/freertos.c ****   * @param  None
 180:Core/Src/freertos.c ****   * @retval None
 181:Core/Src/freertos.c ****   */
 182:Core/Src/freertos.c **** void MX_FREERTOS_Init(void) {
 183:Core/Src/freertos.c ****   /* USER CODE BEGIN Init */
 184:Core/Src/freertos.c **** 
 185:Core/Src/freertos.c ****   /* USER CODE END Init */
 186:Core/Src/freertos.c **** 
 187:Core/Src/freertos.c ****   /* USER CODE BEGIN RTOS_MUTEX */
 188:Core/Src/freertos.c ****   /* add mutexes, ... */
 189:Core/Src/freertos.c ****   /* USER CODE END RTOS_MUTEX */
 190:Core/Src/freertos.c **** 
 191:Core/Src/freertos.c ****   /* USER CODE BEGIN RTOS_SEMAPHORES */
 192:Core/Src/freertos.c ****   /* add semaphores, ... */
 193:Core/Src/freertos.c ****   /* USER CODE END RTOS_SEMAPHORES */
 194:Core/Src/freertos.c **** 
 195:Core/Src/freertos.c ****   /* USER CODE BEGIN RTOS_TIMERS */
 196:Core/Src/freertos.c ****   /* start timers, add new ones, ... */
 197:Core/Src/freertos.c ****   /* USER CODE END RTOS_TIMERS */
 198:Core/Src/freertos.c **** 
 199:Core/Src/freertos.c ****   /* USER CODE BEGIN RTOS_QUEUES */
 200:Core/Src/freertos.c ****   /* add queues, ... */
 201:Core/Src/freertos.c ****   /* USER CODE END RTOS_QUEUES */
 202:Core/Src/freertos.c **** 
 203:Core/Src/freertos.c ****   /* Create the thread(s) */
 204:Core/Src/freertos.c ****   /* creation of MicroRosTask */
 205:Core/Src/freertos.c ****   MicroRosTaskHandle = osThreadNew(StartMicroRosTask, NULL, &MicroRosTask_attributes);
 206:Core/Src/freertos.c **** 
 207:Core/Src/freertos.c ****   /* USER CODE BEGIN RTOS_THREADS */
ARM GAS  /tmp/ccvFBfAE.s 			page 7


 208:Core/Src/freertos.c ****   /* add threads, ... */
 209:Core/Src/freertos.c ****   /* USER CODE END RTOS_THREADS */
 210:Core/Src/freertos.c **** 
 211:Core/Src/freertos.c ****   /* USER CODE BEGIN RTOS_EVENTS */
 212:Core/Src/freertos.c ****   /* add events, ... */
 213:Core/Src/freertos.c ****   /* USER CODE END RTOS_EVENTS */
 214:Core/Src/freertos.c **** 
 215:Core/Src/freertos.c **** }
 216:Core/Src/freertos.c **** 
 217:Core/Src/freertos.c **** /* USER CODE BEGIN Header_StartMicroRosTask */
 218:Core/Src/freertos.c **** /**
 219:Core/Src/freertos.c ****   * @brief  Function implementing the MicroRosTask thread.
 220:Core/Src/freertos.c ****   * @param  argument: Not used
 221:Core/Src/freertos.c ****   * @retval None
 222:Core/Src/freertos.c ****   */
 223:Core/Src/freertos.c **** /* USER CODE END Header_StartMicroRosTask */
 224:Core/Src/freertos.c **** void StartMicroRosTask(void *argument)
 225:Core/Src/freertos.c **** {
 124              		.loc 1 225 1 is_stmt 1 view -0
 125              		.cfi_startproc
 126              		@ args = 0, pretend = 0, frame = 48
 127              		@ frame_needed = 0, uses_anonymous_args = 0
 128              		.loc 1 225 1 is_stmt 0 view .LVU19
 129 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 130              	.LCFI1:
 131              		.cfi_def_cfa_offset 24
 132              		.cfi_offset 4, -24
 133              		.cfi_offset 5, -20
 134              		.cfi_offset 6, -16
 135              		.cfi_offset 7, -12
 136              		.cfi_offset 8, -8
 137              		.cfi_offset 14, -4
 138 0004 8EB0     		sub	sp, sp, #56
 139              	.LCFI2:
 140              		.cfi_def_cfa_offset 80
 226:Core/Src/freertos.c ****   /* USER CODE BEGIN StartMicroRosTask */
 227:Core/Src/freertos.c ****   /* Infinite loop */
 228:Core/Src/freertos.c ****     rmw_uros_set_custom_transport(
 141              		.loc 1 228 5 is_stmt 1 view .LVU20
 142 0006 394B     		ldr	r3, .L19
 143 0008 0193     		str	r3, [sp, #4]
 144 000a 394B     		ldr	r3, .L19+4
 145 000c 0093     		str	r3, [sp]
 146 000e 394B     		ldr	r3, .L19+8
 147 0010 394A     		ldr	r2, .L19+12
 148 0012 3A49     		ldr	r1, .L19+16
 149 0014 0120     		movs	r0, #1
 150              	.LVL13:
 151              		.loc 1 228 5 is_stmt 0 view .LVU21
 152 0016 FFF7FEFF 		bl	rmw_uros_set_custom_transport
 153              	.LVL14:
 229:Core/Src/freertos.c ****     true,
 230:Core/Src/freertos.c ****     (void *) &huart3,
 231:Core/Src/freertos.c ****     cubemx_transport_open,
 232:Core/Src/freertos.c ****     cubemx_transport_close,
 233:Core/Src/freertos.c ****     cubemx_transport_write,
 234:Core/Src/freertos.c ****     cubemx_transport_read);
ARM GAS  /tmp/ccvFBfAE.s 			page 8


 235:Core/Src/freertos.c ****  
 236:Core/Src/freertos.c ****   rcl_allocator_t freeRTOS_allocator = rcutils_get_zero_initialized_allocator();
 154              		.loc 1 236 3 is_stmt 1 view .LVU22
 155              		.loc 1 236 40 is_stmt 0 view .LVU23
 156 001a 09A8     		add	r0, sp, #36
 157 001c FFF7FEFF 		bl	rcutils_get_zero_initialized_allocator
 158              	.LVL15:
 237:Core/Src/freertos.c ****   freeRTOS_allocator.allocate = microros_allocate;
 159              		.loc 1 237 3 is_stmt 1 view .LVU24
 160              		.loc 1 237 31 is_stmt 0 view .LVU25
 161 0020 374B     		ldr	r3, .L19+20
 162 0022 0993     		str	r3, [sp, #36]
 238:Core/Src/freertos.c ****   freeRTOS_allocator.deallocate = microros_deallocate;
 163              		.loc 1 238 3 is_stmt 1 view .LVU26
 164              		.loc 1 238 33 is_stmt 0 view .LVU27
 165 0024 374B     		ldr	r3, .L19+24
 166 0026 0A93     		str	r3, [sp, #40]
 239:Core/Src/freertos.c ****   freeRTOS_allocator.reallocate = microros_reallocate;
 167              		.loc 1 239 3 is_stmt 1 view .LVU28
 168              		.loc 1 239 33 is_stmt 0 view .LVU29
 169 0028 374B     		ldr	r3, .L19+28
 170 002a 0B93     		str	r3, [sp, #44]
 240:Core/Src/freertos.c ****   freeRTOS_allocator.zero_allocate =  microros_zero_allocate;
 171              		.loc 1 240 3 is_stmt 1 view .LVU30
 172              		.loc 1 240 36 is_stmt 0 view .LVU31
 173 002c 374B     		ldr	r3, .L19+32
 174 002e 0C93     		str	r3, [sp, #48]
 241:Core/Src/freertos.c ****  
 242:Core/Src/freertos.c ****   if (!rcutils_set_default_allocator(&freeRTOS_allocator)) {
 175              		.loc 1 242 3 is_stmt 1 view .LVU32
 176              		.loc 1 242 8 is_stmt 0 view .LVU33
 177 0030 09A8     		add	r0, sp, #36
 178 0032 FFF7FEFF 		bl	rcutils_set_default_allocator
 179              	.LVL16:
 180              		.loc 1 242 6 discriminator 1 view .LVU34
 181 0036 0028     		cmp	r0, #0
 182 0038 53D0     		beq	.L18
 183              	.L15:
 243:Core/Src/freertos.c ****       printf("Error on default allocators (line %d)\n", __LINE__); 
 244:Core/Src/freertos.c ****   }
 245:Core/Src/freertos.c ****  
 246:Core/Src/freertos.c ****   // micro-ROS app
 247:Core/Src/freertos.c ****   allocator = rcl_get_default_allocator();
 184              		.loc 1 247 3 is_stmt 1 view .LVU35
 185              		.loc 1 247 15 is_stmt 0 view .LVU36
 186 003a 354E     		ldr	r6, .L19+36
 187 003c 02A8     		add	r0, sp, #8
 188 003e FFF7FEFF 		bl	rcutils_get_default_allocator
 189              	.LVL17:
 190 0042 B646     		mov	lr, r6
 191 0044 0DF1080C 		add	ip, sp, #8
 192 0048 BCE80F00 		ldmia	ip!, {r0, r1, r2, r3}
 193 004c AEE80F00 		stmia	lr!, {r0, r1, r2, r3}
 194 0050 DCF80030 		ldr	r3, [ip]
 195 0054 CEF80030 		str	r3, [lr]
 248:Core/Src/freertos.c ****  
 249:Core/Src/freertos.c ****   //create init_options
ARM GAS  /tmp/ccvFBfAE.s 			page 9


 250:Core/Src/freertos.c ****   rclc_support_init(&support, 0, NULL, &allocator);
 196              		.loc 1 250 3 is_stmt 1 view .LVU37
 197 0058 2E4C     		ldr	r4, .L19+40
 198 005a 3346     		mov	r3, r6
 199 005c 0022     		movs	r2, #0
 200 005e 1146     		mov	r1, r2
 201 0060 2046     		mov	r0, r4
 202 0062 FFF7FEFF 		bl	rclc_support_init
 203              	.LVL18:
 251:Core/Src/freertos.c ****  
 252:Core/Src/freertos.c ****   // create node
 253:Core/Src/freertos.c ****   rclc_node_init_default(&node, "cubemx_node", "", &support);
 204              		.loc 1 253 3 view .LVU38
 205 0066 2C4D     		ldr	r5, .L19+44
 206 0068 2346     		mov	r3, r4
 207 006a 2C4A     		ldr	r2, .L19+48
 208 006c 2C49     		ldr	r1, .L19+52
 209 006e 2846     		mov	r0, r5
 210 0070 FFF7FEFF 		bl	rclc_node_init_default
 211              	.LVL19:
 254:Core/Src/freertos.c ****  
 255:Core/Src/freertos.c ****   // create publisher
 256:Core/Src/freertos.c ****   // rclc_publisher_init_default(
 257:Core/Src/freertos.c ****   //   &publisher,
 258:Core/Src/freertos.c ****   //   &node,
 259:Core/Src/freertos.c ****   //   ROSIDL_GET_MSG_TYPE_SUPPORT(std_msgs, msg, Int32),
 260:Core/Src/freertos.c ****   //   "cubemx_publisher");
 261:Core/Src/freertos.c ****  
 262:Core/Src/freertos.c ****   // msg.data = 0;
 263:Core/Src/freertos.c ****  
 264:Core/Src/freertos.c ****   rclc_publisher_init_default(
 212              		.loc 1 264 3 view .LVU39
 213 0074 FFF7FEFF 		bl	rosidl_typesupport_c__get_message_type_support_handle__sensor_msgs__msg__Imu
 214              	.LVL20:
 215 0078 0246     		mov	r2, r0
 216              		.loc 1 264 3 is_stmt 0 discriminator 1 view .LVU40
 217 007a 2A4B     		ldr	r3, .L19+56
 218 007c 2946     		mov	r1, r5
 219 007e 2A48     		ldr	r0, .L19+60
 220 0080 FFF7FEFF 		bl	rclc_publisher_init_default
 221              	.LVL21:
 265:Core/Src/freertos.c ****     &publisher,
 266:Core/Src/freertos.c ****     &node,
 267:Core/Src/freertos.c ****     ROSIDL_GET_MSG_TYPE_SUPPORT(sensor_msgs, msg, Imu),
 268:Core/Src/freertos.c ****     "imu_data");
 269:Core/Src/freertos.c **** 
 270:Core/Src/freertos.c ****   // 初始化订阅者
 271:Core/Src/freertos.c ****   rclc_subscription_init_default(
 222              		.loc 1 271 3 is_stmt 1 view .LVU41
 223 0084 FFF7FEFF 		bl	rosidl_typesupport_c__get_message_type_support_handle__geometry_msgs__msg__Twist
 224              	.LVL22:
 225 0088 0246     		mov	r2, r0
 226              		.loc 1 271 3 is_stmt 0 discriminator 1 view .LVU42
 227 008a 284F     		ldr	r7, .L19+64
 228 008c 284B     		ldr	r3, .L19+68
 229 008e 2946     		mov	r1, r5
 230 0090 3846     		mov	r0, r7
ARM GAS  /tmp/ccvFBfAE.s 			page 10


 231 0092 FFF7FEFF 		bl	rclc_subscription_init_default
 232              	.LVL23:
 272:Core/Src/freertos.c ****       &subscriber,
 273:Core/Src/freertos.c ****       &node,
 274:Core/Src/freertos.c ****       ROSIDL_GET_MSG_TYPE_SUPPORT(geometry_msgs, msg, Twist),
 275:Core/Src/freertos.c ****       "/cmd_vel");
 276:Core/Src/freertos.c **** 
 277:Core/Src/freertos.c ****   // 创建定时器，22ms发一次
 278:Core/Src/freertos.c ****   const unsigned int timer_timeout = 22;
 233              		.loc 1 278 3 is_stmt 1 view .LVU43
 279:Core/Src/freertos.c ****   rclc_timer_init_default(
 234              		.loc 1 279 3 view .LVU44
 235 0096 DFF8B880 		ldr	r8, .L19+100
 236 009a 264B     		ldr	r3, .L19+72
 237 009c 0093     		str	r3, [sp]
 238 009e 264A     		ldr	r2, .L19+76
 239 00a0 0023     		movs	r3, #0
 240 00a2 2146     		mov	r1, r4
 241 00a4 4046     		mov	r0, r8
 242 00a6 FFF7FEFF 		bl	rclc_timer_init_default
 243              	.LVL24:
 280:Core/Src/freertos.c ****       &timer,
 281:Core/Src/freertos.c ****       &support,
 282:Core/Src/freertos.c ****       RCL_MS_TO_NS(timer_timeout),
 283:Core/Src/freertos.c ****       timer_callback);
 284:Core/Src/freertos.c ****   
 285:Core/Src/freertos.c ****   rclc_executor_init(&executor, &support.context, 2, &allocator);
 244              		.loc 1 285 3 view .LVU45
 245 00aa 244D     		ldr	r5, .L19+80
 246 00ac 3346     		mov	r3, r6
 247 00ae 0222     		movs	r2, #2
 248 00b0 2146     		mov	r1, r4
 249 00b2 2846     		mov	r0, r5
 250 00b4 FFF7FEFF 		bl	rclc_executor_init
 251              	.LVL25:
 286:Core/Src/freertos.c ****   // 给执行器添加定时器
 287:Core/Src/freertos.c ****   rclc_executor_add_timer(&executor, &timer);
 252              		.loc 1 287 3 view .LVU46
 253 00b8 4146     		mov	r1, r8
 254 00ba 2846     		mov	r0, r5
 255 00bc FFF7FEFF 		bl	rclc_executor_add_timer
 256              	.LVL26:
 288:Core/Src/freertos.c ****   // 设置订阅的回调函数
 289:Core/Src/freertos.c ****   rclc_executor_add_subscription(&executor, &subscriber, &sub_msg, &twist_callback, ON_NEW_DATA);
 257              		.loc 1 289 3 view .LVU47
 258 00c0 0023     		movs	r3, #0
 259 00c2 0093     		str	r3, [sp]
 260 00c4 1E4B     		ldr	r3, .L19+84
 261 00c6 1F4A     		ldr	r2, .L19+88
 262 00c8 3946     		mov	r1, r7
 263 00ca 2846     		mov	r0, r5
 264 00cc FFF7FEFF 		bl	rclc_executor_add_subscription
 265              	.LVL27:
 266              	.L16:
 290:Core/Src/freertos.c **** 
 291:Core/Src/freertos.c ****   for(;;)
 267              		.loc 1 291 3 view .LVU48
ARM GAS  /tmp/ccvFBfAE.s 			page 11


 292:Core/Src/freertos.c ****   {
 293:Core/Src/freertos.c ****     rclc_executor_spin_some(&executor, RCL_MS_TO_NS(10)); // 循环处理数据
 268              		.loc 1 293 5 view .LVU49
 269 00d0 1D4A     		ldr	r2, .L19+92
 270 00d2 0023     		movs	r3, #0
 271 00d4 1948     		ldr	r0, .L19+80
 272 00d6 FFF7FEFF 		bl	rclc_executor_spin_some
 273              	.LVL28:
 294:Core/Src/freertos.c ****     //fill_imu_message();
 295:Core/Src/freertos.c ****     //rcl_publish(&publisher, &imu_msg, NULL);
 296:Core/Src/freertos.c **** 
 297:Core/Src/freertos.c ****     osDelay(10);
 274              		.loc 1 297 5 discriminator 1 view .LVU50
 275 00da 0A20     		movs	r0, #10
 276 00dc FFF7FEFF 		bl	osDelay
 277              	.LVL29:
 291:Core/Src/freertos.c ****   {
 278              		.loc 1 291 3 view .LVU51
 279 00e0 F6E7     		b	.L16
 280              	.LVL30:
 281              	.L18:
 243:Core/Src/freertos.c ****   }
 282              		.loc 1 243 7 view .LVU52
 283 00e2 F321     		movs	r1, #243
 284 00e4 1948     		ldr	r0, .L19+96
 285 00e6 FFF7FEFF 		bl	printf
 286              	.LVL31:
 287 00ea A6E7     		b	.L15
 288              	.L20:
 289              		.align	2
 290              	.L19:
 291 00ec 00000000 		.word	cubemx_transport_read
 292 00f0 00000000 		.word	cubemx_transport_write
 293 00f4 00000000 		.word	cubemx_transport_close
 294 00f8 00000000 		.word	cubemx_transport_open
 295 00fc 00000000 		.word	huart3
 296 0100 00000000 		.word	microros_allocate
 297 0104 00000000 		.word	microros_deallocate
 298 0108 00000000 		.word	microros_reallocate
 299 010c 00000000 		.word	microros_zero_allocate
 300 0110 00000000 		.word	allocator
 301 0114 00000000 		.word	support
 302 0118 00000000 		.word	node
 303 011c 28000000 		.word	.LC1
 304 0120 2C000000 		.word	.LC2
 305 0124 38000000 		.word	.LC3
 306 0128 00000000 		.word	publisher
 307 012c 00000000 		.word	subscriber
 308 0130 44000000 		.word	.LC4
 309 0134 00000000 		.word	timer_callback
 310 0138 80B14F01 		.word	22000000
 311 013c 00000000 		.word	executor
 312 0140 00000000 		.word	twist_callback
 313 0144 00000000 		.word	sub_msg
 314 0148 80969800 		.word	10000000
 315 014c 00000000 		.word	.LC0
 316 0150 00000000 		.word	timer
ARM GAS  /tmp/ccvFBfAE.s 			page 12


 317              		.cfi_endproc
 318              	.LFE146:
 320              		.global	__aeabi_l2d
 321              		.global	__aeabi_dmul
 322              		.global	__aeabi_d2iz
 323              		.section	.rodata.fill_imu_message.str1.4,"aMS",%progbits,1
 324              		.align	2
 325              	.LC5:
 326 0000 696D755F 		.ascii	"imu_link\000"
 326      6C696E6B 
 326      00
 327              		.global	__aeabi_i2d
 328              		.section	.text.fill_imu_message,"ax",%progbits
 329              		.align	1
 330              		.global	fill_imu_message
 331              		.syntax unified
 332              		.thumb
 333              		.thumb_func
 335              	fill_imu_message:
 336              	.LFB142:
 108:Core/Src/freertos.c ****     // 从IMU读取数据（根据你的传感器API）
 337              		.loc 1 108 25 view -0
 338              		.cfi_startproc
 339              		@ args = 0, pretend = 0, frame = 0
 340              		@ frame_needed = 0, uses_anonymous_args = 0
 341 0000 38B5     		push	{r3, r4, r5, lr}
 342              	.LCFI3:
 343              		.cfi_def_cfa_offset 16
 344              		.cfi_offset 3, -16
 345              		.cfi_offset 4, -12
 346              		.cfi_offset 5, -8
 347              		.cfi_offset 14, -4
 110:Core/Src/freertos.c **** 
 348              		.loc 1 110 5 view .LVU54
 349 0002 FFF7FEFF 		bl	MPU6050_Process
 350              	.LVL32:
 113:Core/Src/freertos.c ****     imu_msg.header.stamp.sec = stamp * 1e-3;
 351              		.loc 1 113 5 view .LVU55
 113:Core/Src/freertos.c ****     imu_msg.header.stamp.sec = stamp * 1e-3;
 352              		.loc 1 113 21 is_stmt 0 view .LVU56
 353 0006 FFF7FEFF 		bl	rmw_uros_epoch_millis
 354              	.LVL33:
 355 000a 0546     		mov	r5, r0
 356              	.LVL34:
 114:Core/Src/freertos.c ****     imu_msg.header.stamp.nanosec = stamp - imu_msg.header.stamp.sec * 1000;
 357              		.loc 1 114 5 is_stmt 1 view .LVU57
 114:Core/Src/freertos.c ****     imu_msg.header.stamp.nanosec = stamp - imu_msg.header.stamp.sec * 1000;
 358              		.loc 1 114 38 is_stmt 0 view .LVU58
 359 000c FFF7FEFF 		bl	__aeabi_l2d
 360              	.LVL35:
 114:Core/Src/freertos.c ****     imu_msg.header.stamp.nanosec = stamp - imu_msg.header.stamp.sec * 1000;
 361              		.loc 1 114 38 view .LVU59
 362 0010 27A3     		adr	r3, .L23+16
 363 0012 D3E90023 		ldrd	r2, [r3]
 364 0016 FFF7FEFF 		bl	__aeabi_dmul
 365              	.LVL36:
 114:Core/Src/freertos.c ****     imu_msg.header.stamp.nanosec = stamp - imu_msg.header.stamp.sec * 1000;
ARM GAS  /tmp/ccvFBfAE.s 			page 13


 366              		.loc 1 114 30 view .LVU60
 367 001a FFF7FEFF 		bl	__aeabi_d2iz
 368              	.LVL37:
 369 001e 204C     		ldr	r4, .L23
 370 0020 2060     		str	r0, [r4]
 115:Core/Src/freertos.c ****     micro_ros_string_utilities_set(imu_msg.header.frame_id, "imu_link");  // 设置坐标系
 371              		.loc 1 115 5 is_stmt 1 view .LVU61
 115:Core/Src/freertos.c ****     micro_ros_string_utilities_set(imu_msg.header.frame_id, "imu_link");  // 设置坐标系
 372              		.loc 1 115 42 is_stmt 0 view .LVU62
 373 0022 4FF47A73 		mov	r3, #1000
 374 0026 03FB1055 		mls	r5, r3, r0, r5
 115:Core/Src/freertos.c ****     micro_ros_string_utilities_set(imu_msg.header.frame_id, "imu_link");  // 设置坐标系
 375              		.loc 1 115 34 view .LVU63
 376 002a 6560     		str	r5, [r4, #4]
 116:Core/Src/freertos.c ****     
 377              		.loc 1 116 5 is_stmt 1 view .LVU64
 378 002c 1D4B     		ldr	r3, .L23+4
 379 002e 04F10802 		add	r2, r4, #8
 380 0032 07CA     		ldm	r2, {r0, r1, r2}
 381 0034 FFF7FEFF 		bl	micro_ros_string_utilities_set
 382              	.LVL38:
 119:Core/Src/freertos.c ****     imu_msg.linear_acceleration.y = MPU6050.Accel_Y_RAW;
 383              		.loc 1 119 5 view .LVU65
 119:Core/Src/freertos.c ****     imu_msg.linear_acceleration.y = MPU6050.Accel_Y_RAW;
 384              		.loc 1 119 44 is_stmt 0 view .LVU66
 385 0038 1B4D     		ldr	r5, .L23+8
 119:Core/Src/freertos.c ****     imu_msg.linear_acceleration.y = MPU6050.Accel_Y_RAW;
 386              		.loc 1 119 35 view .LVU67
 387 003a B5F90000 		ldrsh	r0, [r5]
 388 003e FFF7FEFF 		bl	__aeabi_i2d
 389              	.LVL39:
 390 0042 C4E93801 		strd	r0, [r4, #224]
 120:Core/Src/freertos.c ****     imu_msg.linear_acceleration.z = MPU6050.Accel_Z_RAW;
 391              		.loc 1 120 5 is_stmt 1 view .LVU68
 120:Core/Src/freertos.c ****     imu_msg.linear_acceleration.z = MPU6050.Accel_Z_RAW;
 392              		.loc 1 120 35 is_stmt 0 view .LVU69
 393 0046 B5F90200 		ldrsh	r0, [r5, #2]
 394 004a FFF7FEFF 		bl	__aeabi_i2d
 395              	.LVL40:
 396 004e C4E93A01 		strd	r0, [r4, #232]
 121:Core/Src/freertos.c ****     
 397              		.loc 1 121 5 is_stmt 1 view .LVU70
 121:Core/Src/freertos.c ****     
 398              		.loc 1 121 35 is_stmt 0 view .LVU71
 399 0052 B5F90400 		ldrsh	r0, [r5, #4]
 400 0056 FFF7FEFF 		bl	__aeabi_i2d
 401              	.LVL41:
 402 005a C4E93C01 		strd	r0, [r4, #240]
 124:Core/Src/freertos.c ****     imu_msg.angular_velocity.y = MPU6050.Gyro_Y_RAW;
 403              		.loc 1 124 5 is_stmt 1 view .LVU72
 124:Core/Src/freertos.c ****     imu_msg.angular_velocity.y = MPU6050.Gyro_Y_RAW;
 404              		.loc 1 124 32 is_stmt 0 view .LVU73
 405 005e B5F92000 		ldrsh	r0, [r5, #32]
 406 0062 FFF7FEFF 		bl	__aeabi_i2d
 407              	.LVL42:
 408 0066 C4E92001 		strd	r0, [r4, #128]
 125:Core/Src/freertos.c ****     imu_msg.angular_velocity.z = MPU6050.Gyro_Z_RAW;
ARM GAS  /tmp/ccvFBfAE.s 			page 14


 409              		.loc 1 125 5 is_stmt 1 view .LVU74
 125:Core/Src/freertos.c ****     imu_msg.angular_velocity.z = MPU6050.Gyro_Z_RAW;
 410              		.loc 1 125 32 is_stmt 0 view .LVU75
 411 006a B5F92200 		ldrsh	r0, [r5, #34]
 412 006e FFF7FEFF 		bl	__aeabi_i2d
 413              	.LVL43:
 414 0072 C4E92201 		strd	r0, [r4, #136]
 126:Core/Src/freertos.c ****     
 415              		.loc 1 126 5 is_stmt 1 view .LVU76
 126:Core/Src/freertos.c ****     
 416              		.loc 1 126 32 is_stmt 0 view .LVU77
 417 0076 B5F92400 		ldrsh	r0, [r5, #36]
 418 007a FFF7FEFF 		bl	__aeabi_i2d
 419              	.LVL44:
 420 007e C4E92401 		strd	r0, [r4, #144]
 129:Core/Src/freertos.c ****     imu_msg.orientation.y = 0.0;
 421              		.loc 1 129 5 is_stmt 1 view .LVU78
 129:Core/Src/freertos.c ****     imu_msg.orientation.y = 0.0;
 422              		.loc 1 129 27 is_stmt 0 view .LVU79
 423 0082 0022     		movs	r2, #0
 424 0084 0023     		movs	r3, #0
 425 0086 C4E90623 		strd	r2, [r4, #24]
 130:Core/Src/freertos.c ****     imu_msg.orientation.z = 0.0;
 426              		.loc 1 130 5 is_stmt 1 view .LVU80
 130:Core/Src/freertos.c ****     imu_msg.orientation.z = 0.0;
 427              		.loc 1 130 27 is_stmt 0 view .LVU81
 428 008a C4E90823 		strd	r2, [r4, #32]
 131:Core/Src/freertos.c ****     //imu_msg.orientation.w = 1.0;
 429              		.loc 1 131 5 is_stmt 1 view .LVU82
 131:Core/Src/freertos.c ****     //imu_msg.orientation.w = 1.0;
 430              		.loc 1 131 27 is_stmt 0 view .LVU83
 431 008e C4E90A23 		strd	r2, [r4, #40]
 136:Core/Src/freertos.c ****     // imu_msg.angular_velocity_covariance[0] = 0.01;  // 示例值
 432              		.loc 1 136 5 is_stmt 1 view .LVU84
 136:Core/Src/freertos.c ****     // imu_msg.angular_velocity_covariance[0] = 0.01;  // 示例值
 433              		.loc 1 136 39 is_stmt 0 view .LVU85
 434 0092 0022     		movs	r2, #0
 435 0094 054B     		ldr	r3, .L23+12
 436 0096 C4E90E23 		strd	r2, [r4, #56]
 139:Core/Src/freertos.c **** 
 437              		.loc 1 139 1 view .LVU86
 438 009a 38BD     		pop	{r3, r4, r5, pc}
 439              	.L24:
 440 009c AFF30080 		.align	3
 441              	.L23:
 442 00a0 00000000 		.word	imu_msg
 443 00a4 00000000 		.word	.LC5
 444 00a8 00000000 		.word	MPU6050
 445 00ac 0000F0BF 		.word	-1074790400
 446 00b0 FCA9F1D2 		.word	-755914244
 447 00b4 4D62503F 		.word	1062232653
 448              		.cfi_endproc
 449              	.LFE142:
 451              		.section	.text.timer_callback,"ax",%progbits
 452              		.align	1
 453              		.global	timer_callback
 454              		.syntax unified
ARM GAS  /tmp/ccvFBfAE.s 			page 15


 455              		.thumb
 456              		.thumb_func
 458              	timer_callback:
 459              	.LVL45:
 460              	.LFB144:
 160:Core/Src/freertos.c ****   RCLC_UNUSED(last_call_time);
 461              		.loc 1 160 1 is_stmt 1 view -0
 462              		.cfi_startproc
 463              		@ args = 0, pretend = 0, frame = 0
 464              		@ frame_needed = 0, uses_anonymous_args = 0
 161:Core/Src/freertos.c ****   if (timer != NULL)
 465              		.loc 1 161 3 view .LVU88
 162:Core/Src/freertos.c ****   {
 466              		.loc 1 162 3 view .LVU89
 162:Core/Src/freertos.c ****   {
 467              		.loc 1 162 6 is_stmt 0 view .LVU90
 468 0000 40B1     		cbz	r0, .L28
 160:Core/Src/freertos.c ****   RCLC_UNUSED(last_call_time);
 469              		.loc 1 160 1 view .LVU91
 470 0002 08B5     		push	{r3, lr}
 471              	.LCFI4:
 472              		.cfi_def_cfa_offset 8
 473              		.cfi_offset 3, -8
 474              		.cfi_offset 14, -4
 164:Core/Src/freertos.c ****     rcl_publish(&publisher, &imu_msg, NULL);
 475              		.loc 1 164 5 is_stmt 1 view .LVU92
 476 0004 FFF7FEFF 		bl	fill_imu_message
 477              	.LVL46:
 165:Core/Src/freertos.c ****     //rcl_publish(&publisher, &msg, NULL);
 478              		.loc 1 165 5 view .LVU93
 479 0008 0022     		movs	r2, #0
 480 000a 0349     		ldr	r1, .L31
 481 000c 0348     		ldr	r0, .L31+4
 482 000e FFF7FEFF 		bl	rcl_publish
 483              	.LVL47:
 169:Core/Src/freertos.c **** 
 484              		.loc 1 169 1 is_stmt 0 view .LVU94
 485 0012 08BD     		pop	{r3, pc}
 486              	.LVL48:
 487              	.L28:
 488              	.LCFI5:
 489              		.cfi_def_cfa_offset 0
 490              		.cfi_restore 3
 491              		.cfi_restore 14
 169:Core/Src/freertos.c **** 
 492              		.loc 1 169 1 view .LVU95
 493 0014 7047     		bx	lr
 494              	.L32:
 495 0016 00BF     		.align	2
 496              	.L31:
 497 0018 00000000 		.word	imu_msg
 498 001c 00000000 		.word	publisher
 499              		.cfi_endproc
 500              	.LFE144:
 502              		.section	.text.MX_FREERTOS_Init,"ax",%progbits
 503              		.align	1
 504              		.global	MX_FREERTOS_Init
ARM GAS  /tmp/ccvFBfAE.s 			page 16


 505              		.syntax unified
 506              		.thumb
 507              		.thumb_func
 509              	MX_FREERTOS_Init:
 510              	.LFB145:
 182:Core/Src/freertos.c ****   /* USER CODE BEGIN Init */
 511              		.loc 1 182 29 is_stmt 1 view -0
 512              		.cfi_startproc
 513              		@ args = 0, pretend = 0, frame = 0
 514              		@ frame_needed = 0, uses_anonymous_args = 0
 515 0000 08B5     		push	{r3, lr}
 516              	.LCFI6:
 517              		.cfi_def_cfa_offset 8
 518              		.cfi_offset 3, -8
 519              		.cfi_offset 14, -4
 205:Core/Src/freertos.c **** 
 520              		.loc 1 205 3 view .LVU97
 205:Core/Src/freertos.c **** 
 521              		.loc 1 205 24 is_stmt 0 view .LVU98
 522 0002 044A     		ldr	r2, .L35
 523 0004 0021     		movs	r1, #0
 524 0006 0448     		ldr	r0, .L35+4
 525 0008 FFF7FEFF 		bl	osThreadNew
 526              	.LVL49:
 205:Core/Src/freertos.c **** 
 527              		.loc 1 205 22 discriminator 1 view .LVU99
 528 000c 034B     		ldr	r3, .L35+8
 529 000e 1860     		str	r0, [r3]
 215:Core/Src/freertos.c **** 
 530              		.loc 1 215 1 view .LVU100
 531 0010 08BD     		pop	{r3, pc}
 532              	.L36:
 533 0012 00BF     		.align	2
 534              	.L35:
 535 0014 00000000 		.word	MicroRosTask_attributes
 536 0018 00000000 		.word	StartMicroRosTask
 537 001c 00000000 		.word	MicroRosTaskHandle
 538              		.cfi_endproc
 539              	.LFE145:
 541              		.global	timer
 542              		.section	.bss.timer,"aw",%nobits
 543              		.align	2
 546              	timer:
 547 0000 00000000 		.space	4
 548              		.global	node
 549              		.section	.bss.node,"aw",%nobits
 550              		.align	2
 553              	node:
 554 0000 00000000 		.space	8
 554      00000000 
 555              		.global	allocator
 556              		.section	.bss.allocator,"aw",%nobits
 557              		.align	2
 560              	allocator:
 561 0000 00000000 		.space	20
 561      00000000 
 561      00000000 
ARM GAS  /tmp/ccvFBfAE.s 			page 17


 561      00000000 
 561      00000000 
 562              		.global	support
 563              		.section	.bss.support,"aw",%nobits
 564              		.align	2
 567              	support:
 568 0000 00000000 		.space	52
 568      00000000 
 568      00000000 
 568      00000000 
 568      00000000 
 569              		.global	executor
 570              		.section	.bss.executor,"aw",%nobits
 571              		.align	3
 574              	executor:
 575 0000 00000000 		.space	144
 575      00000000 
 575      00000000 
 575      00000000 
 575      00000000 
 576              		.global	sub_msg
 577              		.section	.bss.sub_msg,"aw",%nobits
 578              		.align	3
 581              	sub_msg:
 582 0000 00000000 		.space	48
 582      00000000 
 582      00000000 
 582      00000000 
 582      00000000 
 583              		.global	subscriber
 584              		.section	.bss.subscriber,"aw",%nobits
 585              		.align	2
 588              	subscriber:
 589 0000 00000000 		.space	4
 590              		.global	imu_msg
 591              		.section	.bss.imu_msg,"aw",%nobits
 592              		.align	3
 595              	imu_msg:
 596 0000 00000000 		.space	320
 596      00000000 
 596      00000000 
 596      00000000 
 596      00000000 
 597              		.global	msg
 598              		.section	.bss.msg,"aw",%nobits
 599              		.align	2
 602              	msg:
 603 0000 00000000 		.space	4
 604              		.global	publisher
 605              		.section	.bss.publisher,"aw",%nobits
 606              		.align	2
 609              	publisher:
 610 0000 00000000 		.space	4
 611              		.global	MicroRosTask_attributes
 612              		.section	.rodata.str1.4,"aMS",%progbits,1
 613              		.align	2
 614              	.LC6:
ARM GAS  /tmp/ccvFBfAE.s 			page 18


 615 0000 4D696372 		.ascii	"MicroRosTask\000"
 615      6F526F73 
 615      5461736B 
 615      00
 616              		.section	.rodata.MicroRosTask_attributes,"a"
 617              		.align	2
 620              	MicroRosTask_attributes:
 621 0000 00000000 		.word	.LC6
 622 0004 00000000 		.space	4
 623 0008 00000000 		.word	defaultTaskControlBlock
 624 000c 5C000000 		.word	92
 625 0010 00000000 		.word	defaultTaskBuffer
 626 0014 E02E0000 		.word	12000
 627 0018 18000000 		.word	24
 628 001c 00000000 		.space	8
 628      00000000 
 629              		.global	defaultTaskControlBlock
 630              		.section	.bss.defaultTaskControlBlock,"aw",%nobits
 631              		.align	2
 634              	defaultTaskControlBlock:
 635 0000 00000000 		.space	92
 635      00000000 
 635      00000000 
 635      00000000 
 635      00000000 
 636              		.global	defaultTaskBuffer
 637              		.section	.bss.defaultTaskBuffer,"aw",%nobits
 638              		.align	2
 641              	defaultTaskBuffer:
 642 0000 00000000 		.space	12000
 642      00000000 
 642      00000000 
 642      00000000 
 642      00000000 
 643              		.global	MicroRosTaskHandle
 644              		.section	.bss.MicroRosTaskHandle,"aw",%nobits
 645              		.align	2
 648              	MicroRosTaskHandle:
 649 0000 00000000 		.space	4
 650              		.text
 651              	.Letext0:
 652              		.file 2 "/usr/lib/gcc/arm-none-eabi/13.2.1/include/stddef.h"
 653              		.file 3 "/usr/lib/gcc/arm-none-eabi/13.2.1/include/stdint.h"
 654              		.file 4 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h"
 655              		.file 5 "Middlewares/Third_Party/FreeRTOS/Source/include/FreeRTOS.h"
 656              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 657              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 658              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 659              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 660              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 661              		.file 11 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 662              		.file 12 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcutils
 663              		.file 13 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl/all
 664              		.file 14 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rmw/ret
 665              		.file 15 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcutils
 666              		.file 16 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rmw/tim
 667              		.file 17 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rmw/typ
ARM GAS  /tmp/ccvFBfAE.s 			page 19


 668              		.file 18 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl/typ
 669              		.file 19 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl/con
 670              		.file 20 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl/gua
 671              		.file 21 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rosidl_
 672              		.file 22 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/builtin
 673              		.file 23 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rosidl_
 674              		.file 24 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rosidl_
 675              		.file 25 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rosidl_
 676              		.file 26 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rosidl_
 677              		.file 27 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rosidl_
 678              		.file 28 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rosidl_
 679              		.file 29 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rosidl_
 680              		.file 30 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl/nod
 681              		.file 31 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl/ser
 682              		.file 32 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl/tim
 683              		.file 33 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl/pub
 684              		.file 34 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl/sub
 685              		.file 35 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl/cli
 686              		.file 36 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rmw/qos
 687              		.file 37 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl/tim
 688              		.file 38 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl/eve
 689              		.file 39 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl/wai
 690              		.file 40 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rclc/ty
 691              		.file 41 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/unique_
 692              		.file 42 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/action_
 693              		.file 43 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/action_
 694              		.file 44 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl_act
 695              		.file 45 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl_act
 696              		.file 46 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl_act
 697              		.file 47 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rcl_act
 698              		.file 48 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rclc/ac
 699              		.file 49 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rclc/ac
 700              		.file 50 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rclc/ac
 701              		.file 51 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rclc/ex
 702              		.file 52 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rclc/ex
 703              		.file 53 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/uxr/cli
 704              		.file 54 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/uxr/cli
 705              		.file 55 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/uxr/cli
 706              		.file 56 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/std_msg
 707              		.file 57 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/geometr
 708              		.file 58 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/geometr
 709              		.file 59 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/std_msg
 710              		.file 60 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/geometr
 711              		.file 61 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/sensor_
 712              		.file 62 "mpu6050/mpu6050.h"
 713              		.file 63 "Core/Inc/usart.h"
 714              		.file 64 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rclc/ti
 715              		.file 65 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rclc/su
 716              		.file 66 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rclc/pu
 717              		.file 67 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/geometr
 718              		.file 68 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/sensor_
 719              		.file 69 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rclc/no
 720              		.file 70 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rclc/in
 721              		.file 71 "/usr/include/newlib/stdio.h"
 722              		.file 72 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rmw_mic
 723              		.file 73 "micro_ros_stm32cubemx_utils/microros_static_library/libmicroros/microros_include/rmw_mic
ARM GAS  /tmp/ccvFBfAE.s 			page 20


DEFINED SYMBOLS
                            *ABS*:00000000 freertos.c
     /tmp/ccvFBfAE.s:22     .text.twist_callback:00000000 $t
     /tmp/ccvFBfAE.s:28     .text.twist_callback:00000000 twist_callback
     /tmp/ccvFBfAE.s:94     .text.twist_callback:00000040 $d
     /tmp/ccvFBfAE.s:99     .rodata.StartMicroRosTask.str1.4:00000000 $d
     /tmp/ccvFBfAE.s:115    .text.StartMicroRosTask:00000000 $t
     /tmp/ccvFBfAE.s:121    .text.StartMicroRosTask:00000000 StartMicroRosTask
     /tmp/ccvFBfAE.s:291    .text.StartMicroRosTask:000000ec $d
     /tmp/ccvFBfAE.s:560    .bss.allocator:00000000 allocator
     /tmp/ccvFBfAE.s:567    .bss.support:00000000 support
     /tmp/ccvFBfAE.s:553    .bss.node:00000000 node
     /tmp/ccvFBfAE.s:609    .bss.publisher:00000000 publisher
     /tmp/ccvFBfAE.s:588    .bss.subscriber:00000000 subscriber
     /tmp/ccvFBfAE.s:458    .text.timer_callback:00000000 timer_callback
     /tmp/ccvFBfAE.s:574    .bss.executor:00000000 executor
     /tmp/ccvFBfAE.s:581    .bss.sub_msg:00000000 sub_msg
     /tmp/ccvFBfAE.s:546    .bss.timer:00000000 timer
     /tmp/ccvFBfAE.s:324    .rodata.fill_imu_message.str1.4:00000000 $d
     /tmp/ccvFBfAE.s:329    .text.fill_imu_message:00000000 $t
     /tmp/ccvFBfAE.s:335    .text.fill_imu_message:00000000 fill_imu_message
     /tmp/ccvFBfAE.s:442    .text.fill_imu_message:000000a0 $d
     /tmp/ccvFBfAE.s:595    .bss.imu_msg:00000000 imu_msg
     /tmp/ccvFBfAE.s:452    .text.timer_callback:00000000 $t
     /tmp/ccvFBfAE.s:497    .text.timer_callback:00000018 $d
     /tmp/ccvFBfAE.s:503    .text.MX_FREERTOS_Init:00000000 $t
     /tmp/ccvFBfAE.s:509    .text.MX_FREERTOS_Init:00000000 MX_FREERTOS_Init
     /tmp/ccvFBfAE.s:535    .text.MX_FREERTOS_Init:00000014 $d
     /tmp/ccvFBfAE.s:620    .rodata.MicroRosTask_attributes:00000000 MicroRosTask_attributes
     /tmp/ccvFBfAE.s:648    .bss.MicroRosTaskHandle:00000000 MicroRosTaskHandle
     /tmp/ccvFBfAE.s:543    .bss.timer:00000000 $d
     /tmp/ccvFBfAE.s:550    .bss.node:00000000 $d
     /tmp/ccvFBfAE.s:557    .bss.allocator:00000000 $d
     /tmp/ccvFBfAE.s:564    .bss.support:00000000 $d
     /tmp/ccvFBfAE.s:571    .bss.executor:00000000 $d
     /tmp/ccvFBfAE.s:578    .bss.sub_msg:00000000 $d
     /tmp/ccvFBfAE.s:585    .bss.subscriber:00000000 $d
     /tmp/ccvFBfAE.s:592    .bss.imu_msg:00000000 $d
     /tmp/ccvFBfAE.s:602    .bss.msg:00000000 msg
     /tmp/ccvFBfAE.s:599    .bss.msg:00000000 $d
     /tmp/ccvFBfAE.s:606    .bss.publisher:00000000 $d
     /tmp/ccvFBfAE.s:613    .rodata.str1.4:00000000 $d
     /tmp/ccvFBfAE.s:617    .rodata.MicroRosTask_attributes:00000000 $d
     /tmp/ccvFBfAE.s:634    .bss.defaultTaskControlBlock:00000000 defaultTaskControlBlock
     /tmp/ccvFBfAE.s:641    .bss.defaultTaskBuffer:00000000 defaultTaskBuffer
     /tmp/ccvFBfAE.s:631    .bss.defaultTaskControlBlock:00000000 $d
     /tmp/ccvFBfAE.s:638    .bss.defaultTaskBuffer:00000000 $d
     /tmp/ccvFBfAE.s:645    .bss.MicroRosTaskHandle:00000000 $d

UNDEFINED SYMBOLS
__aeabi_d2f
HAL_GPIO_WritePin
rmw_uros_set_custom_transport
rcutils_get_zero_initialized_allocator
rcutils_set_default_allocator
rcutils_get_default_allocator
rclc_support_init
ARM GAS  /tmp/ccvFBfAE.s 			page 21


rclc_node_init_default
rosidl_typesupport_c__get_message_type_support_handle__sensor_msgs__msg__Imu
rclc_publisher_init_default
rosidl_typesupport_c__get_message_type_support_handle__geometry_msgs__msg__Twist
rclc_subscription_init_default
rclc_timer_init_default
rclc_executor_init
rclc_executor_add_timer
rclc_executor_add_subscription
rclc_executor_spin_some
osDelay
printf
cubemx_transport_read
cubemx_transport_write
cubemx_transport_close
cubemx_transport_open
huart3
microros_allocate
microros_deallocate
microros_reallocate
microros_zero_allocate
__aeabi_l2d
__aeabi_dmul
__aeabi_d2iz
__aeabi_i2d
MPU6050_Process
rmw_uros_epoch_millis
micro_ros_string_utilities_set
MPU6050
rcl_publish
osThreadNew
